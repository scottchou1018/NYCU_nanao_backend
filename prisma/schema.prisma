// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// for dev: add DATABASE_URL in the .env file
// for dev: See the format of mysql URL: https://www.prisma.io/docs/orm/overview/databases/mysql

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User{
  id            Int           @id @default(autoincrement())
  username      String        @unique
  password      String
  regTime      DateTime      @default(now())
  role          Role
  userDetail    UserDetail?
  session       Session?
  hurtForms     HurtForm[]
  weekForms     WeekForm[]
  yearForms     YearForm[]
  
}
model UserDetail{
  user              User          @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId           Int           @id
  gender            Gender?
  birthday          String
  age               Int?
  medicalHistory   String?
  headshot          Bytes?        @db.Blob
  address           String?
  email             String?
  phone             String?
  updateAt          DateTime      @updatedAt
}

model Session{
  user            User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId         Int       @id
  token           String
  expiredTime    DateTime
}
model HurtForm{
  id              Int       @id @default(autoincrement())
  user            User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId         Int
  fillTime       DateTime  @default(now())
  head            Int       @default(0)
  leftShoulder   Int       @default(0)
  rightShoulder  Int       @default(0)
  leftArm        Int       @default(0)
  rightArm       Int       @default(0)
  leftWrist      Int       @default(0)
  rightWrist     Int       @default(0)
  leftHand       Int       @default(0)
  rightHand      Int       @default(0)
  leftChest      Int       @default(0)
  rightChest     Int       @default(0)
  leftBelley     Int       @default(0)
  rightBelley    Int       @default(0)
  upperBack      Int       @default(0)
  lowerBack      Int       @default(0)
  leftThigh      Int       @default(0)
  rightThigh     Int       @default(0)
  leftHip        Int       @default(0)
  rightHip       Int       @default(0)
  leftKnee       Int       @default(0)
  rightKnee      Int       @default(0)
  leftAnkle      Int       @default(0)
  rightAnkle     Int       @default(0)
  leftFoot       Int       @default(0)
  rightFoot      Int       @default(0)
}

model YearForm{
  id              Int       @id @default(autoincrement())
  user            User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId         Int
  fillTime       DateTime  @default(now())
  head            Boolean   @default(false)
  leftShoulder   Boolean   @default(false)
  rightShoulder  Boolean   @default(false)
  leftArm        Boolean   @default(false)
  rightArm       Boolean   @default(false)
  leftWrist      Boolean   @default(false)
  rightWrist     Boolean   @default(false)
  leftHand       Boolean   @default(false)
  rightHand      Boolean   @default(false)
  leftChest      Boolean   @default(false)
  rightChest     Boolean   @default(false)
  leftBelley     Boolean   @default(false)
  rightBelley    Boolean   @default(false)
  upperBack      Boolean   @default(false)
  lowerBack      Boolean   @default(false)
  leftThigh      Boolean   @default(false)
  rightThigh     Boolean   @default(false)
  leftHip        Boolean   @default(false)
  rightHip       Boolean   @default(false)
  leftKnee       Boolean   @default(false)
  rightKnee      Boolean   @default(false)
  leftAnkle      Boolean   @default(false)
  rightAnkle     Boolean   @default(false)
  leftFoot       Boolean   @default(false)
  rightFoot      Boolean   @default(false)
}

model WeekForm{
  id              Int       @id @default(autoincrement())
  user            User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId         Int
  fillTime       DateTime  @default(now())
  head            Boolean   @default(false)
  leftShoulder   Boolean   @default(false)
  rightShoulder  Boolean   @default(false)
  leftArm        Boolean   @default(false)
  rightArm       Boolean   @default(false)
  leftWrist      Boolean   @default(false)
  rightWrist     Boolean   @default(false)
  leftHand       Boolean   @default(false)
  rightHand      Boolean   @default(false)
  leftChest      Boolean   @default(false)
  rightChest     Boolean   @default(false)
  leftBelley     Boolean   @default(false)
  rightBelley    Boolean   @default(false)
  upperBack      Boolean   @default(false)
  lowerBack      Boolean   @default(false)
  leftThigh      Boolean   @default(false)
  rightThigh     Boolean   @default(false)
  leftHip        Boolean   @default(false)
  rightHip       Boolean   @default(false)
  leftKnee       Boolean   @default(false)
  rightKnee      Boolean   @default(false)
  leftAnkle      Boolean   @default(false)
  rightAnkle     Boolean   @default(false)
  leftFoot       Boolean   @default(false)
  rightFoot      Boolean   @default(false)
}

enum Gender{
  MALE
  FEMALE
}

enum Role{
  USER
  ADMIN
}